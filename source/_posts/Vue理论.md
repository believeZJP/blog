---
title: Vue理论
date: 2018-03-22 20:31:07
updated: 2019-03-22 20:31:07
tags:
- Vue
- NgVinx
---
## 前端理论

## Vue.js 优势

主要是基于以下几个方面的考虑。

- 体积：19kB（min+gzip）
- API 和学习成本：
- 声明式组件模板和分离样式表，更接近于传统开发模式，抵触心理小。
- 响应式的组件状态跟踪：更新状态代码更简洁，组件树重新渲染效率更高。
- 清晰简洁的生命周期钩子函数和单向数据流：页面逻辑和状态更新更可控。
- 运行时报错和告警详细：方便新手入门和规避常见错误。
- 工具链完整性：webpackLoader（加载 Vue 单文件组件）、开发者工具（DevTools）、脚手架（vue-cli）、单元测试友好（vue-test-utils）。
- 运行时性能：
- VirtualDOM 来管理组件树渲染到真实 DOM 的状态同步，使用高效的算法
来最小化 DOM 操作的次数。
- 由于响应式设计，不需要优化组件树再次渲染的范围。
- 组件树静态部分被单独处理，重新渲染不需要重新构建。
- 同构渲染：
- 高性能、开箱即用的方案，包括前后端可用的路由和状态管理组件，降低了
使用的门槛。
- 深度 webpack 集成，简化了代码分割和构建调试流程。

- 前后端分离：前端拥有完整独立的开发、测试、部署的流程，与后端完全分离，
减少沟通成本。
- 模块化与组件化：封装可重用 UI 组件、业务逻辑，提升代码库的可复用性、
可测试性。
- 流程自动化：提升效率、避免重复手工工作、保证质量、自动资源优化等等。
- 页面加载性能优化：建立前端监控体系、优化资源加载、使用离线化策略。

## 前后端分离的关键点在于前端拥有完整独立的开发、测试、部署的流程，与后端完全分离

```js
在赫尔墨斯项目中，我们把页面的组装完全放置到了前端项目，后端只提供
AJAX 的接口用于获取和提交数据。前端页面完全静态化，构建完毕之后连同相应的
静态资源通过 CI 直接发布到 CDN

```

## 模块化

模块化开发的优势主要有以下几个方面。

- 更好的代码组织结构和开发协作：通过细致的文件夹、文件拆分，更易于管理
复杂的代码库，更易于多人协作开发，降低文件合并时候冲突的发生概率，方
便编写单元测试。
- 依赖管理：不再需要手动管理脚本的加载顺序。
- 优化：
- 代码打包（Bundle）：合并小模块，抽取公共模块，在资源请求数和浏览器缓
存利用方面进行合适的取舍。
- 代码分割（Split）：允许按需加载 JS 代码（分路由、异步组件），解决单页面
应用（SPA）首屏加载速度问题。
- Tree Shaking：利用 ES6 模块的静态化特性，可以在构建过程中分析出代
码库中未使用到的代码，从最终的 bundle 中去除，从而减少 JS●Bundle 的
尺寸。
- Scope Hoisting：ES6 模块内容导入和导出绑定是活动的，可以将多个小
模块合并到一个函数当中，对于重复变量名进行合适的重命名，从而减少
Bundle 的尺寸和提升加载速度。

## 组件化

模块化是解决如何封装和复用一段逻辑代码的话，组件化要解决的是如何
封装和复用一个用户界面元素，例如，一个按钮、一个弹出框，亦或是一个轮播图。

### 页面 = 静态页面(树 + 节点描述 + 数据) + 功能逻辑

技术领域有一个软件设计范式：==“约定大于配置”==，旨在减少 软件开发
人员需要做决定的数量，做到简单而又不失灵活。在插件编写过程中开发者应多注意
使用场景和性能的有机结合，使用恰当的语法，尽可能减少开发者的配●置，不求迎合
各个场景。

## webView性能优化

所以与浏览器不同，App 中打开 WebView 的第一步并不是建立连接，而是启
动浏览器内核。

- WebView 初始化慢，可以在初始化同时先请求数据，让后端和网络不要闲着。
- 后端处理慢，可以让服务器分 trunk 输出，在后端计算的同时前端也加载网络
静态资源。
- 脚本执行慢，就让脚本在最后运行，不阻塞页面解析。
- 同时，合理的预加载、预缓存可以让加载速度的瓶颈更小。
- WebView 初始化慢，就随时初始化好一个 WebView 待用。
- DNS 和链接慢，想办法复用客户端使用的域名和链接。
- 脚本执行慢，可以把框架代码拆分出来，在请求页面之前就执行好。
